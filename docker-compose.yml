# docker-compose.yml
version: '3.1'

services:
        mongodb:
                image: ruanbekker/mongodb
                ports:
                        - 27017:27017

        consignment-service:
                build: ./consignment-service
                ports:
                        - 50051:50051
                environment:
                        MICRO_ADDRESS: ":50051"
                        MICRO_REGISTRY: "mdns"
                        DB_HOST: "mongodb:27017"

        vessel-service:
                build: ./vessel-service
                ports:
                        - 50052:50051
                environment:
                        MICRO_ADDRESS: ":50051"
                        MICRO_REGISTRY: "mdns"
                        DB_HOST: "mongodb:27017"

        consignment-cli:
                build: ./consignment-cli
                environment:
                        MICRO_REGISTRY: "mdns"
